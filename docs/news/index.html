<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • uptasticsearch</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">uptasticsearch</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0.9999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/FAQ.html">Frequently Asked Questions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/uptake/uptasticsearch/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/uptake/uptasticsearch/tree/main/r-pkg/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="uptasticsearch-040" class="section level1">
<h1 class="page-header" data-toc-text="0.4.0">
<a href="#uptasticsearch-040" class="anchor"></a>uptasticsearch 0.4.0<small> 2019-09-11 </small>
</h1>
<div id="features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#features-1" class="anchor"></a>Features</h2>
<div id="added-support-for-elasticsearch-7x" class="section level3">
<h3 class="hasAnchor">
<a href="#added-support-for-elasticsearch-7x" class="anchor"></a>Added support for Elasticsearch 7.x</h3>
<ul>
<li>
<a href="https://github.com/uptake/uptasticsearch/pull/161"><a href='https://github.com/uptake/uptasticsearch/issues161'>#161</a></a> Added support for Elasticsearch 7.x. The biggest changes between that major version and 6.x were the removal of <code>_all</code> as a way to reference all indices, changing the response format of <code>hits.total</code> into an object like <code>{"hits": {"total": 50}}</code>, and restricting all indices to have a single type of document. More details can be found at <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/breaking-changes-7.0.html" class="uri">https://www.elastic.co/guide/en/elasticsearch/reference/current/breaking-changes-7.0.html</a>.</li>
</ul>
</div>
</div>
</div>
    <div id="uptasticsearch-031" class="section level1">
<h1 class="page-header" data-toc-text="0.3.1">
<a href="#uptasticsearch-031" class="anchor"></a>uptasticsearch 0.3.1<small> 2019-01-30 </small>
</h1>
<div id="bugfixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bugfixes" class="anchor"></a>Bugfixes</h2>
<div id="minor-changes-to-unit-tests-to-comply-with-cran" class="section level3">
<h3 class="hasAnchor">
<a href="#minor-changes-to-unit-tests-to-comply-with-cran" class="anchor"></a>Minor changes to unit tests to comply with CRAN</h3>
<ul>
<li>
<a href="https://github.com/uptake/uptasticsearch/pull/136"><a href='https://github.com/uptake/uptasticsearch/issues136'>#136</a></a> removed calls to <code><a href="https://rdrr.io/r/base/showConnections.html">closeAllConnections()</a></code> in unit tests because they were superfluous and causing problems on certain operating systems in the CRAN check farm.</li>
</ul>
</div>
<div id="changed-strategy-for-removing-duplicate-records" class="section level3">
<h3 class="hasAnchor">
<a href="#changed-strategy-for-removing-duplicate-records" class="anchor"></a>Changed strategy for removing duplicate records</h3>
<ul>
<li>
<a href="https://github.com/uptake/uptasticsearch/pull/138"><a href='https://github.com/uptake/uptasticsearch/issues138'>#138</a></a> changed our strategy for deduping records from <code><a href="https://rdrr.io/r/base/unique.html">unique(outDT)</a></code> to <code><a href="https://rdrr.io/r/base/unique.html">unique(outDT, by = "_id")</a></code>. This was prompted by <a href="https://github.com/Rdatatable/data.table/issues/3332">Rdatatable/data.table<a href='https://github.com/uptake/uptasticsearch/issues3332'>#3332</a></a> (changes in <code>data.table</code> 1.12.0), but it’s actually faster and safer anyway!</li>
</ul>
</div>
</div>
</div>
    <div id="uptasticsearch-030" class="section level1">
<h1 class="page-header" data-toc-text="0.3.0">
<a href="#uptasticsearch-030" class="anchor"></a>uptasticsearch 0.3.0<small> 2018-06-19 </small>
</h1>
<div id="features-2" class="section level2">
<h2 class="hasAnchor">
<a href="#features-2" class="anchor"></a>Features</h2>
<div id="full-support-for-elasticsearch-6x" class="section level3">
<h3 class="hasAnchor">
<a href="#full-support-for-elasticsearch-6x" class="anchor"></a>Full support for Elasticsearch 6.x</h3>
<ul>
<li>
<a href="https://github.com/uptake/uptasticsearch/pull/64"><a href='https://github.com/uptake/uptasticsearch/issues64'>#64</a></a> added support for Elasticsearch 6.x. The biggest change between that major version and v5.x is that as of Elasticsearch 6.x all requests issued to the Elasticsearch HTTP API must pass an explicit <code>Content-Type</code> header. Previous versions of Elasticsearch tried to guess the <code>Content-Type</code> when none was declared</li>
<li>
<a href="https://github.com/uptake/uptasticsearch/pull/66"><a href='https://github.com/uptake/uptasticsearch/issues66'>#66</a></a> completed support for Elasticsearch 6.x. Elasticsearch 6.x changed the supported strategy for issuing scrolling requests. <code>uptasticsearch</code> will now hit the cluster to try to figure out which version of Elasticsearch it is running, then use the appropriate scrolling strategy.</li>
</ul>
</div>
</div>
<div id="bugfixes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bugfixes-1" class="anchor"></a>Bugfixes</h2>
<div id="get_fields-when-your-index-has-no-aliases" class="section level3">
<h3 class="hasAnchor">
<a href="#get_fields-when-your-index-has-no-aliases" class="anchor"></a><code>get_fields()</code> when your index has no aliases</h3>
<ul>
<li>previously, <code><a href="../reference/get_fields.html">get_fields()</a></code> broke on some legacy versions of Elasticsearch where no aliases had been created. The response on the <code>_cat/aliases</code> endpoint has changed from major version to major version. <a href="https://github.com/uptake/uptasticsearch/pull/66"><a href='https://github.com/uptake/uptasticsearch/issues66'>#66</a></a> fixed this for all major versions of Elasticsearch from 1.0 to 6.2</li>
</ul>
</div>
<div id="get_fields-when-your-index-has-multiple-aliases" class="section level3">
<h3 class="hasAnchor">
<a href="#get_fields-when-your-index-has-multiple-aliases" class="anchor"></a><code>get_fields()</code> when your index has multiple aliases</h3>
<ul>
<li>previously, if you had multiple aliases pointing to the same physical index, <code><a href="../reference/get_fields.html">get_fields()</a></code> would only return one of those. As of <a href="https://github.com/uptake/uptasticsearch/pull/73"><a href='https://github.com/uptake/uptasticsearch/issues73'>#73</a></a>, mappings for the underlying physical index will now be duplicated once per alias in the table returned by <code><a href="../reference/get_fields.html">get_fields()</a></code>.</li>
</ul>
</div>
<div id="bad-parsing-of-elasticsearch-major-version" class="section level3">
<h3 class="hasAnchor">
<a href="#bad-parsing-of-elasticsearch-major-version" class="anchor"></a>bad parsing of Elasticsearch major version</h3>
<ul>
<li>as of <a href="https://github.com/uptake/uptasticsearch/pull/64"><a href='https://github.com/uptake/uptasticsearch/issues64'>#64</a></a>, <code>uptasticsearch</code> attempts to query the Elasticsearch host to figure out what major version of Elasticsearch is running there. Implementation errors in that PR led to versions being parsed incorrectly but silently passing tests. This was fixed in <a href="https://github.com/uptake/uptasticsearch/pull/66"><a href='https://github.com/uptake/uptasticsearch/issues66'>#66</a></a>. NOTE: this only impacted the dev version of the library on Github.</li>
</ul>
</div>
<div id="ignore_scroll_restriction-not-being-respected" class="section level3">
<h3 class="hasAnchor">
<a href="#ignore_scroll_restriction-not-being-respected" class="anchor"></a><code>ignore_scroll_restriction</code> not being respected</h3>
<ul>
<li>In previous versions of <code>uptasticsearch</code>, the value passed to <code><a href="../reference/es_search.html">es_search()</a></code> for <code>ignore_scroll_restriction</code> was not actually respected. This was possible because an internal function had defaults specified, so we never caught the fact that that value wasn’t getting passed through. <a href="https://github.com/uptake/uptasticsearch/pull/66"><a href='https://github.com/uptake/uptasticsearch/issues66'>#66</a></a> instituted the practice of not specifying defaults on function arguments in internal functions, so similar bugs won’t be able to silently get through testing in the future.</li>
</ul>
</div>
</div>
<div id="deprecations-and-removals" class="section level2">
<h2 class="hasAnchor">
<a href="#deprecations-and-removals" class="anchor"></a>Deprecations and Removals</h2>
<ul>
<li>
<a href="https://github.com/uptake/uptasticsearch/pull/69"><a href='https://github.com/uptake/uptasticsearch/issues69'>#69</a></a> added a deprecation warning on <code>get_counts()</code>. This function was outside the core mission of the package and exposed us unnecessarily to changes in the Elasticsearch DSL</li>
</ul>
</div>
</div>
    <div id="uptasticsearch-020" class="section level1">
<h1 class="page-header" data-toc-text="0.2.0">
<a href="#uptasticsearch-020" class="anchor"></a>uptasticsearch 0.2.0<small> 2018-04-13 </small>
</h1>
<div id="features-3" class="section level2">
<h2 class="hasAnchor">
<a href="#features-3" class="anchor"></a>Features</h2>
<div id="faster-unpack_nested_data" class="section level3">
<h3 class="hasAnchor">
<a href="#faster-unpack_nested_data" class="anchor"></a>Faster <code>unpack_nested_data()</code>
</h3>
<ul>
<li>
<a href="https://github.com/uptake/uptasticsearch/pull/51"><a href='https://github.com/uptake/uptasticsearch/issues51'>#51</a></a> changed the parsing strategy for nested data and made it 9x faster than the previous implementation</li>
</ul>
</div>
<div id="retry-logic" class="section level3">
<h3 class="hasAnchor">
<a href="#retry-logic" class="anchor"></a>Retry logic</h3>
<ul>
<li>Functions that make HTTP calls will now use retry logic via <code><a href="https://httr.r-lib.org/reference/RETRY.html">httr::RETRY</a></code> instead of one-shot <code>POST</code> or <code>GET</code> calls</li>
</ul>
</div>
</div>
</div>
    <div id="uptasticsearch-010" class="section level1">
<h1 class="page-header" data-toc-text="0.1.0">
<a href="#uptasticsearch-010" class="anchor"></a>uptasticsearch 0.1.0<small> 2017-08-29 </small>
</h1>
<div id="features-4" class="section level2">
<h2 class="hasAnchor">
<a href="#features-4" class="anchor"></a>Features</h2>
<div id="elasticsearch-metadata" class="section level3">
<h3 class="hasAnchor">
<a href="#elasticsearch-metadata" class="anchor"></a>Elasticsearch metadata</h3>
<ul>
<li>
<code><a href="../reference/get_fields.html">get_fields()</a></code> returns a data.table with the names and types of all indexed fields across one or more indices</li>
</ul>
</div>
<div id="routing-temporary-file-writing" class="section level3">
<h3 class="hasAnchor">
<a href="#routing-temporary-file-writing" class="anchor"></a>Routing Temporary File Writing</h3>
<ul>
<li>
<code><a href="../reference/es_search.html">es_search()</a></code> now accepts an <code>intermediates_dir</code> parameter, giving users control over the directory used for temporary I/O at query time</li>
</ul>
</div>
</div>
<div id="bugfixes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#bugfixes-2" class="anchor"></a>Bugfixes</h2>
<div id="empty-results" class="section level3">
<h3 class="hasAnchor">
<a href="#empty-results" class="anchor"></a>Empty Results</h3>
<ul>
<li>Added logic to short-circuit and return early with an informative message if a query matches 0 documents</li>
</ul>
</div>
</div>
</div>
    <div id="uptasticsearch-002" class="section level1">
<h1 class="page-header" data-toc-text="0.0.2">
<a href="#uptasticsearch-002" class="anchor"></a>uptasticsearch 0.0.2<small> 2017-07-18 </small>
</h1>
<div id="features-5" class="section level2">
<h2 class="hasAnchor">
<a href="#features-5" class="anchor"></a>Features</h2>
<div id="main-function" class="section level3">
<h3 class="hasAnchor">
<a href="#main-function" class="anchor"></a>Main function</h3>
<ul>
<li>
<code><a href="../reference/es_search.html">es_search()</a></code> executes an Elasticsearch query and gets a data.table</li>
</ul>
</div>
<div id="parse-raw-json-into-datatable" class="section level3">
<h3 class="hasAnchor">
<a href="#parse-raw-json-into-datatable" class="anchor"></a>Parse raw JSON into data.table</h3>
<ul>
<li>
<code><a href="../reference/chomp_aggs.html">chomp_aggs()</a></code> converts a raw aggs JSON to data.table</li>
<li>
<code><a href="../reference/chomp_hits.html">chomp_hits()</a></code> converts a raw hits JSON to data.table</li>
</ul>
</div>
<div id="utilities" class="section level3">
<h3 class="hasAnchor">
<a href="#utilities" class="anchor"></a>Utilities</h3>
<ul>
<li>
<code><a href="../reference/unpack_nested_data.html">unpack_nested_data()</a></code> deals with nested Elasticsearch data not in a tabular format</li>
<li>
<code><a href="../reference/parse_date_time.html">parse_date_time()</a></code> parses date-times from Elasticsearch records</li>
</ul>
</div>
<div id="exploratory-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#exploratory-functions" class="anchor"></a>Exploratory functions</h3>
<ul>
<li>
<code>get_counts()</code> examines the distribution of distinct values for a field in Elasticsearch</li>
</ul>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by James Lamb, Nick Paras, Austin Dickey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


